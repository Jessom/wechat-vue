<template>
  <div class="chat-container">
    <!-- èŠå¤©å¥½å‹åˆ—è¡¨ -->
    <aside class="list-container">
      <div class="search-container">
        <div class="search-input">
          <i class="iconfont icon-search"></i>
          <input type="seatch" placeholder="æœç´¢" />
        </div>
        <i class="iconfont icon-plus search_btn"></i>
      </div>
      
      <chat-item :list='list' />
    </aside>


    <div class="content-container">
      <chat-topbar />
      <router-view :key='activedId'></router-view>
      <chart-content />
    </div>
  </div>
</template>

<script>
import ChatItem from '@/components/ChatItem.vue'
import ChatTopbar from '@/components/ChatTopbar.vue'
import ChartContent from '@/components/ChartContent.vue'
export default {
  components: {
    ChatItem,
    ChatTopbar,
    ChartContent
  },

  created() {
    
  },

  watch: {
    '$route'(to, form) {
      this.activedId = Number(to.params.id)
    }
  },

  mounted() {
    this.activedId = Number(this.$route.params.id)
    setTimeout(() => {
      this.list = [
        { id: 1, name: 'å‡‰é£é’å¶', time: '15:32', desc: 'ä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œä¸€å—å‡ºå»ç©å•Š[æœŸå¾…][æœŸå¾…]', avatar: 'http://img.tukexw.com/img/2fa7f932c357459c.jpg' },
        { id: 2, name: 'æ¨±å®å®', time: '12:36', desc: 'å—¯å—¯', avatar: 'http://b-ssl.duitang.com/uploads/item/201707/13/20170713162007_vhGP8.jpeg' },
        { id: 3, name: 'é¥­å²›ç»“éŸ³', time: '19/05/08', desc: 'å¥½å§ï¼Œæˆ‘çŸ¥é“äº†', avatar: 'http://b-ssl.duitang.com/uploads/item/201608/03/20160803184011_QBS4E.thumb.224_0.jpeg' },
        { id: 4, name: 'æ³·æœ¬æ—¥å¯Œç¾', time: '19/05/08', desc: 'goodï¼ğŸ‘Œ', avatar: 'http://b-ssl.duitang.com/uploads/item/201607/12/20160712142247_CwnaU.jpeg' },
        { id: 5, name: 'ç­±ç”°åˆ', time: '19/05/08', desc: 'äº†è§£ï¼', avatar: 'http://b-ssl.duitang.com/uploads/item/201607/07/20160707163621_aznPN.thumb.700_0.png' },
        { id: 6, name: 'è¿œå±±ä¼¦', time: '19/05/08', desc: 'çœŸæ˜¯çš„', avatar: 'http://img5.duitang.com/uploads/item/201607/30/20160730222856_dHP3n.thumb.700_0.jpeg' },
        { id: 7, name: 'å…«ç¥å…‰', time: '19/05/08', desc: 'å•Šå“ˆå“ˆ', avatar: 'http://b-ssl.duitang.com/uploads/item/201709/20/20170920215623_E4dez.png' },
        { id: 8, name: 'é˜¿æ³¢æ ¹æµ·å­', time: '19/05/08', desc: 'æˆ‘æœ€å–œæ¬¢ç©ç”Ÿå­˜æ¸¸æˆï¼', avatar: 'http://b-ssl.duitang.com/uploads/item/201608/25/20160825110804_EenrU.jpeg' },
        { id: 9, name: 'å¶æœˆé›«', time: '19/05/08', desc: 'å»å¥³ä»†é¤å…å•Š', avatar: 'http://b-ssl.duitang.com/uploads/item/201607/07/20160707171253_4nCNk.thumb.224_0.png' },
        { id: 10, name: 'æœ›æœˆçº¢å¶', time: '19/05/08', desc: 'å°é¸£å’Œå®å®æœ€è¿‘éƒ½å¾ˆæ€ªæ€ªçš„ï¼Œæ˜¯ä¸æ˜¯å‘ç”Ÿä»€ä¹ˆäº‹äº†ï¼Ÿ', avatar: 'https://i2.hdslb.com/bfs/face/2930cd263041069fadafa60f3f1fa2f9436e8291.jpg' },
        { id: 11, name: 'é¸£æµ·ç‡•', time: '19/05/08', desc: 'å®å®é¸¡æ˜¯é å…³ç³»è¿›æ¥çš„ï¼', avatar: 'http://imgsrc.baidu.com/forum/w=580;/sign=3f6eef60be119313c743ffb855030dd7/e61190ef76c6a7efa2368984f1faaf51f3de667b.jpg' },
      ]
    }, 0)
  },

  data () {
    return {
      activedId: 0,
      list: []
    }
  }
}
</script>

<style lang="scss">
  
</style>
